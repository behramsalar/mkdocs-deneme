
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../dcm2nifti-giris/">
      
      
        <link rel="next" href="../page2/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.2">
    
    
      
        <title>dcm2niix - fMRi preprocessing pipeline</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.d451bc0e.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a5377069.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Ubuntu";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#dicom-nifti-donusturulmesi" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="fMRi preprocessing pipeline" class="md-header__button md-logo" aria-label="fMRi preprocessing pipeline" data-md-component="logo">
      
  <img src="../pngegg.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            fMRi preprocessing pipeline
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              dcm2niix
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="fMRi preprocessing pipeline" class="md-nav__button md-logo" aria-label="fMRi preprocessing pipeline" data-md-component="logo">
      
  <img src="../pngegg.png" alt="logo">

    </a>
    fMRi preprocessing pipeline
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Anasayfa
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DICOM to NiFTi
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            DICOM to NiFTi
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dcm2nifti-giris/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Giriş
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    dcm2niix
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    dcm2niix
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#dcm2niix" class="md-nav__link">
    'dcm2niix'
  </a>
  
    <nav class="md-nav" aria-label="'dcm2niix'">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dcm2niix-kurulumu" class="md-nav__link">
    'dcm2niix' Kurulumu
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dcm2niix-nasl-kullanlr" class="md-nav__link">
    'dcm2niix' Nasıl Kullanılır?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dcm2niix-kullanmna-bir-ornek" class="md-nav__link">
    'dcm2niix' Kullanımına bir örnek
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asd" class="md-nav__link">
    asd
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../page2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    baska deneme
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    deneme2
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            deneme2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../pages1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    deneme
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="dicom-nifti-donusturulmesi">DICOM &gt; NIfTI Dönüştürülmesi</h1>
<h2 id="dcm2niix"><strong>'dcm2niix'</strong></h2>
<p>MR görüntülerinin DICOM'dan NIfTI'ye dönüştürülmesi dcm2niix adlı program ile yapılır. 
Bu programın command-line (terminal üzerinden çalışan) versiyonu <strong>veya</strong> MRicroGL adlı programla birlikte gelen görsel arayüzlü versiyonu kullanılabilir.</p>
<p>MR analizlerini kendi kişisel bilgisayarında yapmak isteyenler öncelikle bu programı indirmelidir.</p>
<h3 id="dcm2niix-kurulumu">'dcm2niix' Kurulumu</h3>
<blockquote>
<p><em><strong>Ön not:</strong> Benim kendi tercihim terminal üzerinden çalışan ve görsel arayüzü olmayan versiyonunu kullanmak. Output'ları modifiye etmeyi ve bir çok dosyanın aynı anda çevirilmesini otomatize etmeyi bu şekilde daha kolay buluyorum.</em></p>
</blockquote>
<p>Command-line versiyonu aşağıdaki komutu terminale yapıştırarak indirilebilir.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>pip<span class="w"> </span>install<span class="w"> </span>dcm2niix
</span></code></pre></div>
<p>veya çalışmadıysa;</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>pip3<span class="w"> </span>install<span class="w"> </span>dcm2niix
</span></code></pre></div>
<hr />
<p>Görsel arayüze sahip versiyonu da aşağıdaki linkten indirilebilen MRicroGL isimli programla birlikte gelmektedir.</p>
<p>https://www.nitrc.org/projects/mricrogl/</p>
<p>dcm2niix programına resimdeki gibi Import &gt; Convert DICOM to Nifti seçilerek ulaşılır. </p>
<p><img alt="" src="../mricrogl.png" title="MRICROGL" /></p>
<p>Programın görsel arayüzü de kullandığınız sisteme göre değişme ihtimaliyle beraber alttaki resimdeki gibi olacaktır.</p>
<p><img alt="" src="../dcm2niix.png" title="dcm2niix" /></p>
<h3 id="dcm2niix-nasl-kullanlr">'dcm2niix' Nasıl Kullanılır?</h3>
<p><em>Bu kısımda terminal üzerinden çalışan versiyonun nasıl kullanılacağından bahsedeceğim. Görsel arayüzlü versiyonun nasıl kullanıldığını açıklamaya pek gerek olduğunu düşünmüyorum, arayüzde ayarlar ve nasıl kullanıldığı net bir şekilde görülüyor.</em></p>
<p>Öncelikle bir terminal penceresi açıp, dcm2niix yazarak programı çağırıp, ne tür argümanlar aldığını inceleyelim.</p>
<p><img alt="cli dcm2niix" src="../dcm2niix-cl.png" title="dcm2niix-cli" /></p>
<p>Resimde görülen -b -v -z -f gibi listelenmiş her bir madde bu programın alabileceği argümanları (<em>ya da değiştirebileceğimiz parametreleri</em>) gösteriyor. Bunların birçoğu için default değerler resimde görüldüğü gibi parantez içinde verilmiş. Yani bu parametreleri özel olarak belirtmediğiniz taktirde default değerleri kullanacak.</p>
<p>Bu listedekilerden sadece birkaçına dikkat edeceğiz.</p>
<ul>
<li>
<p>-v bu parametre programın yaptığı şeyleri terminalde görmeniz için logluyor. Hatalarla karşılaşma durumunda hatanın hangi noktada oluştuğunu anlamak için -v y şeklinde kullanılmalı (1)</p>
</li>
<li>
<p>-z bu parametrenin default'u yukarıda da görülebileceği gibi <strong>'n'</strong>, yani output'u sıkıştırılmış dosya şeklinde vermiyor default olarak. (<em>.nii.gz uzantılı vermiyor, </em>.nii uzantılı şekilde veriyor.) Depolama alanından kazanmak için bu parametreyi değiştirmemiz gerekiyor. <strong>-z y</strong> şeklinde ekleme yapacağız programı çalıştırırken. (2)</p>
</li>
<li>
<p>-f parametresı output dosyasının isimlendirilmesi ile ilgili. Yapacağınız çalışmalarda bir düzen olması açısından bir isimlendirilme şeması takip edilmeli. Grup isimlerine göre bir prefix seçilip, katılımcı koduna göre de bir numara verilebilir. Örn; cont01, pt03. Bu parametre aynı zamanda % işareti ile MR datasının çeşitli özelliklerini isime ekleyebiliyor. (3)</p>
<ul>
<li>%p ile datanın ismine hangi protokol ile çekildiği eklenebilir. Dönüştürme sonrasında hangi datanın hangi protokolle çekildiğini ayırt etmek için en azından bu yapılmalıdır.</li>
<li>Örnek kullanım; -f cont01_%p </li>
</ul>
</li>
<li>
<p>-o parametresi dönüştürülen dosyaların hangi klasöre gönderileceğini belirlemek için kullanılıyor. Bu parametre verilmediği taktirde Nifti'ye dönüştürülen dosyalar DICOM dosyalarının olduğu klasöre gider. (4)</p>
<ul>
<li>
<blockquote>
<p>Dosyaların lokasyonları analiz programlarını çalıştırırken çok büyük öneme sahip. O yüzden, sistemli ve düzenli olmak açısından DICOM klasörünün içerisine veya başka belirlenmiş bir lokasyona yeni bir klasör açıp output klasörü olarak onu göstermeyi tavsiye ederim.</p>
</blockquote>
</li>
<li>
<blockquote>
<blockquote>
<p>Örn; cont01 isimli DICOM dosyalarının içine 'mkdir cont01/nifti' komutu ile bir klasör açılıp output olarak bu klasör verilebilir.</p>
</blockquote>
</blockquote>
</li>
</ul>
</li>
<li>
<p>En son olarak da herhangi bir - içeren argüman kullanmadan MR datasını Nifti'ye çevireceğimiz katılımcının DICOM dosyalarının olduğu klasörü vereceğiz. (5)</p>
</li>
</ul>
<p>Terminale girilecek kodun son hali şuna benzemeli: </p>
<div class="language-bash highlight"><span class="filename">ornek kod</span><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>dcm2niix<span class="w"> </span>-v<span class="w"> </span>y<span class="w"> </span>-z<span class="w"> </span>y<span class="w"> </span>-f<span class="w"> </span>cont01_%p<span class="w"> </span>-o<span class="w"> </span>cont01/nifti<span class="w"> </span>cont01
</span></code></pre></div>
<h2 id="dcm2niix-kullanmna-bir-ornek">'dcm2niix' Kullanımına bir örnek</h2>
<p>Aşağıdaki resimlerdede cont01 kodlu bir katılımcının DICOM dosyalarını içeren klasörün bir resmini görüyorsunuz.</p>
<p>Terminal de ilk satırda görülebileceği gibi cont01 klasörünü içeren mr-analiz-tutorial klasöründe çalışıyor.
* &gt;Terminalin hangi klasörde çalıştığı gibi temel bilgileri ilerleyen kısımlarda tekrar etmeyeceğim, örnek olması açısından buraya ekledim.
* &gt; Bir diğer not olarak da cont01 klasörünün içindeki nifti klasörü benim yukarıda bahsettiğim şekilde düzenli olmak açısından kendi oluşturduğum bir klasör.</p>
<p><img src="dcm2niix-ornklasor.png" width= "700" >
<img src="dcm2niix-terminal3.png" width= "700" ></p>
<hr />
<p>Program çalışmayı bitirip dönüştürmeyi tamamladıktan sonra nifti klasörünün içinde oluşan dosyalara ve isimlerine baktığımızda, -f argümanıyla verdiğimiz şekilde istediğimiz gibi sonuç aldığımızı görebiliriz. 
<img src="dcm2niix-ornklasorsonuc.png" width= "700" ></p>
<h2 id="asd">asd</h2>
<p>Some Markdown text with <span style="color:white">some <em>yellow</em> text</span>.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2023 <a href="https://github.com/behramsalar"  target="_blank" rel="noopener">Ali Behram Salar</a>
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["toc.follow", "toc.integrate", "content.code.copy", "content.code.annotate"], "search": "../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.726fbb30.min.js"></script>
      
    
  </body>
</html>